\begin{quantikz}
        \setwiretype{n} & & \lstick{$\ket{\mathbf{0}}$} & \setwiretype{q} \qwbundle{n} & \gate{H^{\otimes n}} & \gate[2][5em]{U_f}\gateinput{$\mathbf{x}$}\gateoutput{$\mathbf{x}$} & & &  \\
\setwiretype{n} & & \lstick{$\ket{\mathbf{0}}$} & \setwiretype{q} \qwbundle{n-1} & & \gateinput{$\mathbf{y}$}\gateoutput{$\mathbf{y}\oplus f(\mathbf{x})$} & \qwbundle{n-1} & \meter{} & \setwiretype{c} \rstick{$\mathbf{w}$} & \setwiretype{n}
    \end{quantikz}